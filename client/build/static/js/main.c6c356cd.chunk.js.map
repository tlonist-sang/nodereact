{"version":3,"sources":["actions/index.js","actions/types.js","components/Payments.js","components/Header.js","components/Landing.js","components/App.js","reducers/index.js","reducers/authReducer.js","index.js"],"names":["fetchUser","dispatch","a","axios","get","res","type","payload","data","handleToken","token","post","Payments","useDispatch","amount","stripeKey","process","name","description","className","Header","auth","useSelector","state","to","href","key","style","margin","credits","renderContent","Landing","textAlign","Dashboard","SurveyNew","App","this","props","path","exact","component","Component","connect","actions","combineReducers","action","store","createStore","reducers","applyMiddleware","reduxThunk","ReactDOM","render","document","querySelector","console","log"],"mappings":"wYAGaA,EAAY,yDAAM,WAAMC,GAAN,eAAAC,EAAA,sEACVC,IAAMC,IAAI,qBADA,OACtBC,EADsB,OAE5BJ,EAAS,CAACK,KCLa,aDKKC,QAASF,EAAIG,OAFb,2CAAN,uDAKZC,EAAc,SAAAC,GAAK,8CAAI,WAAMT,GAAN,eAAAC,EAAA,sEACfC,IAAMQ,KAAK,cAAeD,GADX,OAC3BL,EAD2B,OAEjCJ,EAAS,CAACK,KCVa,aDUKC,QAASF,EAAIG,OAFR,2CAAJ,uDEkBjBI,EAlBE,WACb,IAAMX,EAAWY,cAEjB,OACI,6BACI,kBAAC,IAAD,CACIC,OAAQ,IACRJ,MAAO,SAAAA,GAAUT,EAASQ,EAAYC,KACtCK,UAAWC,8GACXC,KAAM,SACNC,YAAa,0BAEb,4BAAQC,UAAW,OAAnB,kBC0BDC,EAzCA,WACX,IAAMC,EAAOC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,QAqBxC,OACI,6BACI,6BACI,yBAAKF,UAAW,eACZ,kBAAC,IAAD,CACIK,GAAIH,EAAM,WAAY,IACtBF,UAAW,mBAFf,UAMA,wBAAIA,UAAW,SA7BT,WACpB,OAAOE,GACH,KAAK,KACD,OACJ,KAAK,EACD,OACI,4BAAI,uBAAGI,KAAM,gBAAT,sBAEZ,QACI,MAAM,CACF,wBAAIC,IAAK,KAAK,kBAAC,EAAD,OACd,wBAAIC,MAAO,CAAEC,OAAQ,UAAWF,IAAK,KAArC,YACcL,EAAKQ,SAEnB,wBAAIH,IAAK,KAAK,uBAAGD,KAAM,eAAT,aAgBPK,QCzBVC,EAXC,WACZ,OACI,yBAAKJ,MAAO,CAACK,UAAW,WACpB,uCADJ,uCCGFC,EAAY,kBAAM,0CAClBC,EAAY,kBAAM,0CAElBC,E,kLAGEC,KAAKC,MAAMrC,c,+BAIX,OACI,yBAAKmB,UAAW,aACZ,kBAAC,IAAD,KACI,6BACI,kBAAC,EAAD,MACA,kBAAC,IAAD,CAAOmB,KAAM,IAAKC,OAAK,EAACC,UAAWT,IACnC,kBAAC,IAAD,CAAOO,KAAM,eAAgBE,UAAWN,IACxC,kBAAC,IAAD,CAAOI,KAAM,WAAYC,OAAK,EAACC,UAAWP,W,GAdhDQ,aAsBHC,cAAQ,KAAMC,EAAdD,CAAuBP,G,QC7BvBS,cAAgB,CAC5BvB,KCFY,WAAgC,IAAvBE,EAAsB,uDAAd,KAAMsB,EAAQ,uCAC1C,OAAQA,EAAOvC,MACX,INJkB,aMKd,OAAOuC,EAAOtC,UAAW,EAC7B,QACI,OAAOgB,M,gBCGbuB,EAAQC,YAAYC,EAAU,GAAIC,YAAgBC,MACxDC,IAASC,OACL,kBAAC,IAAD,CAAUN,MAAOA,GACb,kBAAC,EAAD,OAEJO,SAASC,cAAc,UAG3BC,QAAQC,IAAI,gBAAiBxC,+GAC7BuC,QAAQC,IAAI,iBAAkBxC,gB","file":"static/js/main.c6c356cd.chunk.js","sourcesContent":["import axios from 'axios';\nimport {FETCH_USER} from \"./types\";\n\nexport const fetchUser = () => async dispatch => {\n   const res = await axios.get('/api/current_user');\n   dispatch({type: FETCH_USER, payload: res.data });\n};\n\nexport const handleToken = token => async dispatch => {\n   const res = await axios.post('/api/stripe', token);\n   dispatch({type: FETCH_USER, payload: res.data});\n}\n","export const FETCH_USER = 'fetch_user';","import React from \"react\";\nimport StripeCheckout from \"react-stripe-checkout\";\nimport {useDispatch} from \"react-redux\";\nimport * as actions from '../actions';\nimport {handleToken} from \"../actions\";\n\n\n\nconst Payments = () => {\n    const dispatch = useDispatch();\n\n    return (\n        <div>\n            <StripeCheckout\n                amount={500}\n                token={token => {dispatch(handleToken(token))}}\n                stripeKey={process.env.REACT_APP_STRIPE_KEY}\n                name={\"Emaily\"}\n                description={\"$5 for 5 email credits\"}\n            >\n                <button className={\"btn\"}>Add credits</button>\n            </StripeCheckout>\n        </div>\n    )\n}\n\nexport default Payments;\n","import React from \"react\";\nimport {useSelector} from \"react-redux\";\nimport {Link} from \"react-router-dom\";\nimport Payments from \"./Payments\";\n\nconst Header = () => {\n    const auth = useSelector(state => state.auth);\n\n    const renderContent = () => {\n      switch(auth){\n          case null:\n              return;\n          case false:\n              return (\n                  <li><a href={\"/auth/google\"}>Login With Google</a></li>\n              );\n          default:\n              return[\n                  <li key={\"1\"}><Payments/></li>,\n                  <li style={{ margin: '0 10px'}} key={\"3\"}>\n                      Credits: {auth.credits}\n                  </li>,\n                  <li key={\"2\"}><a href={\"/api/logout\"}>Logout</a></li>\n              ];\n      }\n    };\n\n    return (\n        <nav>\n            <div>\n                <div className={\"nav-wrapper\"}>\n                    <Link\n                        to={auth? '/surveys': '/'}\n                        className={\"left brand-logo\"}\n                    >\n                        Emaily\n                    </Link>\n                    <ul className={\"right\"}>\n                        {renderContent()}\n                    </ul>\n                </div>\n            </div>\n        </nav>\n    )\n}\n\nexport default Header;\n","import React from \"react\";\n\nconst Landing = () => {\n    return (\n        <div style={{textAlign: 'center'}}>\n            <h1>\n                Emaily!\n            </h1>\n            Collect feedbacks from your users!\n        </div>\n    )\n};\n\nexport default Landing;","import React, {Component} from \"react\";\nimport { BrowserRouter, Route } from 'react-router-dom';\nimport Header from \"./Header\";\nimport { connect } from 'react-redux';\nimport * as actions from '../actions';\nimport Landing from \"./Landing\";\n\nconst Dashboard = () => <h2>Dashboard</h2>\nconst SurveyNew = () => <h2>SurveyNew</h2>\n\nclass App extends Component{\n\n    componentDidMount() {\n        this.props.fetchUser();\n    }\n\n    render() {\n        return (\n            <div className={\"container\"}>\n                <BrowserRouter>\n                    <div>\n                        <Header/>\n                        <Route path={\"/\"} exact component={Landing}></Route>\n                        <Route path={\"/surveys/new\"} component={SurveyNew}></Route>\n                        <Route path={\"/surveys\"} exact component={Dashboard}></Route>\n                    </div>\n                </BrowserRouter>\n            </div>\n        );\n    }\n};\n\nexport default connect(null, actions)(App);","import {combineReducers} from \"redux\";\nimport authReducer from \"./authReducer\";\n\nexport default combineReducers({\n   auth: authReducer\n});","import {FETCH_USER} from \"../actions/types\";\n\nexport default function(state = null, action) {\n    switch (action.type) {\n        case FETCH_USER:\n            return action.payload || false;\n        default:\n            return state;\n    }\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from \"./components/App\";\nimport {Provider} from 'react-redux';\nimport {createStore, applyMiddleware} from \"redux\";\nimport reducers from './reducers';\nimport 'materialize-css/dist/css/materialize.min.css';\nimport reduxThunk from 'redux-thunk';\n\n\nconst store = createStore(reducers, {}, applyMiddleware(reduxThunk));\nReactDOM.render(\n    <Provider store={store}>\n        <App/>\n    </Provider>,\n    document.querySelector('#root')\n);\n\nconsole.log('Stripe key is', process.env.REACT_APP_STRIPE_KEY);\nconsole.log('Environment is', process.env.NODE_ENV);\n"],"sourceRoot":""}